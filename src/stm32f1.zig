pub const RCC: *volatile packed struct {
    CR: packed struct {
        HSION: bool = false,
        HSIRDY: bool = false,
        _0: u1 = 0,
        HSITRIM: u5 = 0,
        HSICAL: u8 = 0,
        HSEON: bool = false,
        HSERDY: bool = false,
        HSEBYP: bool = false,
        CSSON: bool = false,
        _1: u4 = 0,
        PLLON: bool = false,
        PLLRDY: bool = false,
        _2: u6 = 0,
    },
    CFGR: packed struct {
        SW: enum(u2) {
            HSI = 0,
            HSE = 1,
            PLL = 2,
        } = .HSI,
        SWS: enum(u2) {
            HSI = 0,
            HSE = 1,
            PLL = 2,
        } = .HSI,
        HPRE: enum(u4) {
            DIV_1 = 0b0000,
            DIV_2 = 0b1000,
            DIV_4 = 0b1001,
            DIV_8 = 0b1010,
            DIV_16 = 0b1011,
            DIV_64 = 0b1100,
            DIV_128 = 0b1101,
            DIV_256 = 0b1110,
            DIV_512 = 0b1111,
        } = .DIV_1,
        PPRE1: enum(u3) {
            DIV_1 = 0b000,
            DIV_2 = 0b100,
            DIV_4 = 0b101,
            DIV_8 = 0b110,
            DIV_16 = 0b111,
        } = .DIV_1,
        PPRE2: enum(u3) {
            DIV_1 = 0b000,
            DIV_2 = 0b100,
            DIV_4 = 0b101,
            DIV_8 = 0b110,
            DIV_16 = 0b111,
        } = .DIV_1,
        ADCPRE: u2 = 0,
        PLLSRC: enum(u1) {
            HSI_2 = 0,
            HSE = 1,
        } = .HSI_2,
        PLLXTPRE: u1 = 0,
        PLLMUL: enum(u4) {
            MUL_2 = 0b0000,
            MUL_3 = 0b0001,
            MUL_4 = 0b0010,
            MUL_5 = 0b0011,
            MUL_6 = 0b0100,
            MUL_7 = 0b0101,
            MUL_8 = 0b0110,
            MUL_9 = 0b0111,
            MUL_10 = 0b1000,
            MUL_11 = 0b1001,
            MUL_12 = 0b1010,
            MUL_13 = 0b1011,
            MUL_14 = 0b1100,
            MUL_15 = 0b1101,
            MUL_16 = 0b1110,
        } = .MUL_2,
        USBPRE: u1 = 0,
        _0: u1 = 0,
        MCO: u3 = 0,
        _1: u5 = 0,
    },
    CIR: u32,
    APB2RSTR: u32,
} = @ptrFromInt(0x4002_1000);

pub const FLASH: *volatile packed struct {
    ACR: packed struct {
        LATENCY: enum(u3) {
            WAIT_0 = 0b000,
            WAIT_1 = 0b001,
            WAIT_2 = 0b010,
        } = .WAIT_0,
        HLFCYA: bool = false,
        PRFTBE: bool = false,
        PRFTBS: bool = false,
        _0: u26 = 0,
    },
    KEYR: u32,
    OPTKEYR: u32,
    SR: u32,
    CR: u32,
    AR: u32,
    _0: u32,
    OBR: u32,
    WRPR: u32,
} = @ptrFromInt(0x4002_2000);
